---
import { Image } from "astro:assets";
import LogoBlack from "../static/logo-black.png";
import LogoWhite from "../static/logo-white.png";

import MenuIcon from "./icons/MenuIcon.astro";
import SunIcon from "./icons/SunIcon.astro";
import MoonIcon from "./icons/MoonIcon.astro";

import Navbar from "./Navbar.astro";
---

<header class="flex items-center md:px-0">
  <div id="logo">
    <Image
      class="block dark:hidden"
      src={LogoBlack}
      alt="A black logo of an warrior who looks like an spartan using a notebook for programming"
      width={75}
      height={75}
    />
    <Image
      class="hidden dark:block"
      src={LogoWhite}
      alt="A white logo of an warrior who looks like an spartan using a notebook for programming"
      width={75}
      height={75}
    />
  </div>
  <Navbar />
  <div
    id="theme-mode"
    class="hidden rounded-md bg-light_contrast dark:bg-dark_contrast md:flex md:gap-6 md:px-4 md:py-2"
  >
    <SunIcon class="text-primary dark:text-dark_text" />
    <MoonIcon class="text-light_text dark:text-primary" />
  </div>
  <div id="menu-icon" class="absolute top-6 right-8 md:relative md:hidden">
    <MenuIcon
      width={32}
      height={32}
      class="text-light_text dark:text-dark_text"
    />
  </div>
</header>

<script>
  const menuIcon = document.querySelector("#menu-icon");
  menuIcon?.addEventListener("click", (e) => {
    e.stopPropagation();
    const navbar = document.querySelector("#navbar");
    if (navbar) navbar?.classList.toggle("hidden");
  });
</script>
