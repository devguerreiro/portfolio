---
import type { IRepo } from "../interfaces/repo";

import Layout from "../layouts/Layout.astro";
import RepoCard from "../components/RepoCard.astro";

import publishedRepos from "./mock.json";

// const myReposURL = "https://api.github.com/users/devguerreiro/repos";
// const reposResponse = await fetch(myReposURL, { method: "GET" });
// const repos = reposResponse.status === 200 ? await reposResponse.json() : [];
// const publishedRepos = (repos as IRepo[]).filter((repo) => repo.homepage);
---

<Layout title="Projects" description="Some projects I made in my spare time">
  <div class="mb-10">
    <h1 class="text-2xl">Here are some projects I made in my spare time</h1>
    <div
      class="mt-12 grid gap-12 md:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4 md:grid-rows-2"
    >
      {publishedRepos.map((repo) => <RepoCard repo={repo} />)}
    </div>
  </div>
</Layout>
