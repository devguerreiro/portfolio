---
import { Image } from "astro:assets";

import { getCollection } from "astro:content";

import Layout from "../layouts/Layout.astro";

const aboutCollection = await getCollection("about");
const aboutCollectionRendered = await Promise.all(
  aboutCollection.map(async (piece) => ({
    ...piece,
    body: await piece.render(),
  }))
);
---

<Layout
  title="About"
  description="Know who I am and things like what I like to do"
>
  <div>
    <div>
      {
        aboutCollectionRendered.map((piece) => (
          <div>
            <div id="divider" class="my-10 h-1 bg-dark_contrast" />
            <div id="topic" class="flex items-center gap-4">
              <span>{piece.data.emoji}</span>
              <h2 class="text-xl capitalize">{piece.data.topic}</h2>
            </div>
            <div id="content" class="mt-4">
              <piece.body.Content />
            </div>
          </div>
        ))
      }
    </div>
    <div class="mt-40 mb-12">
      <Image
        class="mx-auto"
        src="https://media.tenor.com/fR6MrcAyv5sAAAAC/nice-to-meet-me-michael-scott.gif"
        alt="Dating mike saying 'nice to meet me'"
        width={300}
        height={300}
      />
      <p class="mt-6 text-center text-primary font-baskerville">
        <b>Yes! I really like this guy</b> ðŸ˜‚
      </p>
    </div>
  </div>
</Layout>
